<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phục hồi Dữ liệu - Hướng dẫn ElevenLabs Account Hub</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="logo-container">
                <h2>ElevenLabs Hub Guide</h2>
            </div>
            <nav class="navigation-menu">
                <h3>Mục lục</h3>
                <ul>
                    <li><a href="../index.html">Trang chủ</a></li>
                    <li>
                        <a href="#bat-dau" class="menu-toggle">Bắt đầu</a>
                        <ul class="submenu">
                            <li><a href="../bat-dau/cai-dat-va-khoi-dong.html">Cài đặt & Khởi động</a></li>
                            <li><a href="../bat-dau/tong-quan-giao-dien.html">Tổng quan Giao diện</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#quan-ly-api" class="menu-toggle">Quản lý Khóa API</a>
                        <ul class="submenu">
                            <li><a href="../quan-ly-api/them-sua-xoa-api-key.html">Thêm/Sửa/Xóa Khóa API</a></li>
                            <li><a href="../quan-ly-api/kiem-tra-tin-dung.html">Kiểm tra Tín dụng</a></li>
                            <li><a href="../quan-ly-api/cau-hinh-proxy-cho-api-key.html">Cấu hình Proxy</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#chuc-nang-tts" class="menu-toggle">Chức năng TTS</a>
                        <ul class="submenu">
                            <li><a href="../chuc-nang-tts/tao-giong-noi-co-ban.html">Tạo Giọng nói Cơ bản</a></li>
                            <li><a href="../chuc-nang-tts/tuy-chinh-tham-so-tts.html">Tùy chỉnh Tham số TTS</a></li>
                            <li><a href="../chuc-nang-tts/luu-ho-so-cai-dat-tts.html">Lưu Hồ sơ Cài đặt</a></li>
                            <li><a href="../chuc-nang-tts/quan-ly-lich-su-tts.html">Quản lý Lịch sử TTS</a></li>
                        </ul>
                    </li>
                     <li>
                        <a href="#xu-ly-hang-loat" class="menu-toggle">Xử lý Hàng loạt</a>
                        <ul class="submenu">
                            <li><a href="../xu-ly-hang-loat/gioi-thieu-xu-ly-hang-loat.html">Giới thiệu</a></li>
                            <li><a href="../xu-ly-hang-loat/su-dung-xu-ly-hang-loat.html">Cách sử dụng</a></li>
                            <li><a href="../xu-ly-hang-loat/nhap-hang-loat-api-key.html">Nhập hàng loạt Khóa API</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#proxy-pool" class="menu-toggle">Proxy Pool Chung</a>
                        <ul class="submenu">
                            <li><a href="../proxy-pool/gioi-thieu-proxy-pool.html">Giới thiệu</a></li>
                            <li><a href="../proxy-pool/quan-ly-proxy-pool.html">Quản lý Proxy Pool</a></li>
                            <li><a href="../proxy-pool/su-dung-proxy-pool-khi-tts.html">Sử dụng với TTS</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#quan-ly-giong-noi" class="menu-toggle">Quản lý Giọng nói</a>
                        <ul class="submenu">
                            <li><a href="../quan-ly-giong-noi/my-voices.html">My Voices</a></li>
                            <li><a href="../quan-ly-giong-noi/voice-library.html">Voice Library</a></li>
                            <li><a href="../quan-ly-giong-noi/su-dung-giong-noi-thu-vien-trong-tts.html">Sử dụng Giọng nói Thư viện</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#tai-khoan" class="menu-toggle">Tài khoản & VIP</a>
                        <ul class="submenu">
                            <li><a href="../tai-khoan/dang-nhap-dang-xuat.html">Đăng nhập/Đăng xuất</a></li>
                            <li><a href="../tai-khoan/thong-tin-tai-khoan-vip.html">Thông tin VIP</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#cai-dat-chung" class="menu-toggle">Cài đặt Chung</a>
                        <ul class="submenu">
                            <li><a href="../cai-dat-chung/thay-doi-thu-muc-luu-mac-dinh.html">Thư mục Lưu trữ</a></li>
                            <li><a href="../cai-dat-chung/thay-doi-ngon-ngu.html">Ngôn ngữ</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#sao-luu-phuc-hoi" class="menu-toggle open">Sao lưu & Phục hồi</a>
                        <ul class="submenu" style="display: block;">
                            <li><a href="sao-luu-du-lieu.html">Sao lưu Dữ liệu</a></li>
                            <li><a href="phuc-hoi-du-lieu.html" class="active">Phục hồi Dữ liệu</a></li>
                        </ul>
                    </li>
                    <li><a href="../faq.html">Câu hỏi Thường gặp (FAQ)</a></li>
                    <li><a href="../ho-tro.html">Hỗ trợ</a></li>
                </ul>
            </nav>
        </aside>
        <main class="content">
            <header class="main-header">
                <h1>Phục hồi Dữ liệu từ Bản Sao lưu</h1>
            </header>
            <p>Nếu bạn đã thực hiện <a href="sao-luu-du-lieu.html">sao lưu cơ sở dữ liệu</a> của ứng dụng ElevenLabs Account Hub trước đó, bạn có thể sử dụng tệp sao lưu (thường là tệp <code>.db</code> hoặc <code>.sqlite</code>) để khôi phục lại toàn bộ cài đặt, danh sách Khóa API, lịch sử TTS, Proxy Pool, Thư viện Giọng nói Cục bộ và các dữ liệu khác của mình. Quá trình này rất hữu ích khi bạn muốn chuyển dữ liệu sang một máy tính mới, hoặc cần phục hồi lại trạng thái làm việc trước đó sau một sự cố dữ liệu không mong muốn.</p>

            <section id="canh-bao-quan-trong">
                <h2>Cảnh báo Quan trọng Trước khi Thực hiện Phục hồi!</h2>
                <div class="warning">
                    <p><strong>CẢNH BÁO NGHIÊM TRỌNG:</strong> Việc phục hồi dữ liệu từ một tệp sao lưu sẽ <strong>GHI ĐÈ HOÀN TOÀN</strong> cơ sở dữ liệu hiện tại đang được sử dụng bởi phần mềm ElevenLabs Account Hub. Điều này có nghĩa là tất cả dữ liệu hiện có trong phần mềm tại thời điểm phục hồi (bao gồm tất cả Khóa API, cài đặt TTS, lịch sử, Proxy Pool, Thư viện Giọng nói Cục bộ, v.v.) sẽ bị <strong>XÓA SẠCH</strong> và thay thế hoàn toàn bằng dữ liệu từ tệp sao lưu bạn chọn.</p>
                    <p><strong>Trước khi tiếp tục, hãy đảm bảo rằng:</strong></p>
                    <ul>
                        <li>Bạn đã chọn <strong>ĐÚNG</strong> tệp sao lưu mà bạn thực sự muốn khôi phục. Kiểm tra kỹ tên tệp và ngày giờ sao lưu (nếu có trong tên tệp).</li>
                        <li>Nếu dữ liệu hiện tại trong phần mềm có bất kỳ thông tin nào quan trọng mà chưa được sao lưu gần đây, bạn nên thực hiện một <a href="sao-luu-du-lieu.html">bản sao lưu mới cho dữ liệu hiện tại</a> <strong>TRƯỚC KHI</strong> tiến hành phục hồi từ một bản sao lưu cũ hơn. Điều này để tránh mất mát dữ liệu không mong muốn.</li>
                    </ul>
                    <p><strong>Hành động phục hồi dữ liệu KHÔNG THỂ HOÀN TÁC sau khi đã thực hiện. Hãy tiến hành một cách cẩn trọng.</strong></p>
                </div>
            </section>

            <section id="cach-phuc-hoi">
                <h2>Cách Thực hiện Phục hồi Dữ liệu</h2>
                <p>Có hai phương pháp chính để phục hồi dữ liệu, tùy thuộc vào phiên bản phần mềm của bạn có hỗ trợ chức năng "Khôi phục Cơ sở dữ liệu" trực tiếp hay không.</p>

                <h3>Phương pháp 1: Sử dụng Chức năng "Khôi phục Cơ sở dữ liệu" (Nếu có)</h3>
                <p>Một số phiên bản của ElevenLabs Account Hub có thể cung cấp một tùy chọn menu để khôi phục cơ sở dữ liệu một cách tiện lợi:</p>
                <ol>
                    <li><strong>Đóng các Tab đang mở (Khuyến nghị):</strong> Để đảm bảo không có xung đột dữ liệu, hãy đóng tất cả các tab TTS đang mở trong Cột Giữa.</li>
                    <li>Từ Thanh Menu, chọn "<strong>Settings</strong>" (Cài đặt).</li>
                    <li>Tìm và chọn "<strong>Khôi phục Cơ sở dữ liệu</strong>" (Restore Database) hoặc một tùy chọn tương tự.
                        <img src="../assets/images/menu-restore-database.png" alt="Menu Khôi phục Cơ sở dữ liệu" class="screenshot">
                        <em>(Hình ảnh: Vị trí menu "Khôi phục Cơ sở dữ liệu" - có thể khác tùy phiên bản)</em>
                    </li>
                    <li>Một hộp thoại cảnh báo (tương tự như cảnh báo ở trên) sẽ xuất hiện, nhấn mạnh rằng dữ liệu hiện tại sẽ bị ghi đè. Đọc kỹ và chỉ nhấn "<strong>Yes</strong>" (Đồng ý) hoặc "<strong>OK</strong>" nếu bạn đã hiểu rõ và chấp nhận rủi ro.</li>
                    <li>Một hộp thoại "<strong>Mở tệp</strong>" (Open File Dialog) của hệ điều hành sẽ xuất hiện.</li>
                    <li>Duyệt đến vị trí bạn đã lưu tệp sao lưu cơ sở dữ liệu (tệp <code>.db</code> hoặc <code>.sqlite</code>) mà bạn muốn khôi phục.</li>
                    <li>Chọn tệp sao lưu đó và nhấn "<strong>Open</strong>" (Mở).</li>
                    <li>Phần mềm sẽ cố gắng thay thế tệp cơ sở dữ liệu hiện tại bằng tệp sao lưu bạn đã chọn.</li>
                    <li>Sau khi quá trình hoàn tất, phần mềm có thể yêu cầu bạn <strong>khởi động lại ứng dụng</strong> để các thay đổi có hiệu lực hoàn toàn. Hãy làm theo hướng dẫn.</li>
                </ol>
                <p>Luôn ưu tiên sử dụng chức năng tích hợp sẵn này nếu có, vì nó thường được thiết kế để xử lý việc đóng và mở lại kết nối cơ sở dữ liệu một cách an toàn hơn.</p>

                <h3>Phương pháp 2: Phục hồi Thủ công (Nếu không có chức năng tích hợp)</h3>
                <p>Nếu phiên bản phần mềm của bạn không có tùy chọn "Khôi phục Cơ sở dữ liệu" trực tiếp từ menu, bạn có thể thực hiện phục hồi bằng cách thay thế tệp cơ sở dữ liệu thủ công:</p>
                <ol>
                    <li><strong>Đóng Hoàn toàn Phần mềm:</strong> Đây là bước cực kỳ quan trọng. Hãy đảm bảo rằng ứng dụng ElevenLabs Account Hub đã được đóng hoàn toàn (không chạy ngầm) trước khi bạn thực hiện bất kỳ thao tác nào với tệp cơ sở dữ liệu.</li>
                    <li><strong>Xác định Vị trí Tệp Cơ sở dữ liệu Hiện tại:</strong>
                        <ul>
                            <li>Tệp cơ sở dữ liệu của phần mềm thường được đặt tại một thư mục con có tên là <code>data</code> (hoặc tương tự) bên trong thư mục cài đặt chính của ứng dụng (thư mục chứa tệp thực thi <code>.exe</code> mà bạn dùng để chạy chương trình).</li>
                            <li>Tên tệp cơ sở dữ liệu thường là <code>elevenlabs.db</code> hoặc một tên tương tự có phần mở rộng <code>.db</code> hoặc <code>.sqlite</code>.</li>
                        </ul>
                    </li>
                    <li><strong>Sao lưu Tệp Cơ sở dữ liệu Hiện tại (Rất khuyến khích):</strong>
                        <ul>
                            <li>Trước khi ghi đè, hãy tìm đến tệp cơ sở dữ liệu hiện tại (ví dụ: <code>data/elevenlabs.db</code>).</li>
                            <li>Đổi tên tệp này thành một tên khác, ví dụ: <code>elevenlabs_old_YYYYMMDD.db</code> hoặc <code>elevenlabs_before_restore.db</code>. Thao tác này tạo ra một bản sao lưu nhanh của dữ liệu hiện tại, phòng trường hợp bạn muốn quay lại hoặc nếu quá trình phục hồi gặp sự cố.</li>
                        </ul>
                    </li>
                    <li><strong>Sao chép và Đổi tên Tệp Sao lưu của Bạn:</strong>
                        <ul>
                            <li>Tìm đến tệp sao lưu (<code>.db</code> hoặc <code>.sqlite</code>) mà bạn đã tạo trước đó và muốn sử dụng để phục hồi.</li>
                            <li>Sao chép (Copy) tệp sao lưu này.</li>
                            <li>Dán (Paste) tệp sao lưu đã sao chép vào thư mục <code>data</code> của phần mềm (nơi chứa tệp cơ sở dữ liệu gốc, ví dụ: <code>c:/path/to/app/data/</code>).</li>
                            <li>Sau khi dán, hãy <strong>đổi tên tệp sao lưu bạn vừa dán</strong> thành tên tệp cơ sở dữ liệu gốc mà phần mềm sử dụng (thường là <code>elevenlabs.db</code>). Nếu có một tệp <code>elevenlabs.db</code> cũ ở đó (mà bạn chưa đổi tên ở bước trên), bạn cần xóa hoặc đổi tên nó trước khi đổi tên tệp sao lưu.</li>
                        </ul>
                    </li>
                    <li><strong>Khởi động lại Phần mềm:</strong> Mở lại ứng dụng ElevenLabs Account Hub.</li>
                    <li>Phần mềm bây giờ sẽ tải và sử dụng dữ liệu từ tệp cơ sở dữ liệu bạn vừa thay thế. Tất cả các Khóa API, cài đặt, lịch sử và các dữ liệu khác từ bản sao lưu của bạn sẽ được khôi phục và hiển thị trong ứng dụng.</li>
                </ol>
            </section>

            <section id="kiem-tra-sau-phuc-hoi">
                <h2>Kiểm tra Kỹ lưỡng sau khi Phục hồi</h2>
                <p>Sau khi đã phục hồi dữ liệu và khởi động lại phần mềm, hãy dành thời gian kiểm tra kỹ lưỡng để đảm bảo mọi thứ hoạt động như mong đợi:</p>
                <ul>
                    <li>Kiểm tra <strong>Danh sách Khóa API (Cột Trái)</strong> để đảm bảo tất cả các khóa từ bản sao lưu của bạn đã xuất hiện đầy đủ.</li>
                    <li>Mở một vài tab TTS và kiểm tra xem các <strong>Hồ sơ Cài đặt TTS</strong> (giọng nói, mô hình, các tham số) có đúng như trong bản sao lưu không.</li>
                    <li>Kiểm tra <strong>Lịch sử TTS</strong> của một vài Khóa API.</li>
                    <li>Kiểm tra <strong>Proxy Pool Chung</strong> và <strong>Thư viện Giọng nói Cục bộ</strong> (nếu bạn có sử dụng).</li>
                    <li>Thực hiện thao tác "<strong>Test Key & Fetch Info</strong>" cho một vài Khóa API để đảm bảo chúng vẫn kết nối và lấy thông tin tín dụng bình thường.</li>
                </ul>
                <p>Nếu có bất kỳ vấn đề nào sau khi phục hồi, bạn có thể thử phục hồi lại từ một bản sao lưu khác (nếu có) hoặc, nếu bạn đã đổi tên tệp cơ sở dữ liệu cũ ở bước trên, bạn có thể thử khôi phục lại tệp đó bằng cách xóa tệp vừa phục hồi và đổi tên tệp cũ trở lại thành <code>elevenlabs.db</code> (nhớ đóng ứng dụng trước khi làm).</p>
            </section>
        </main>
    </div>
    <script>
        document.querySelectorAll('.menu-toggle').forEach(item => {
            item.addEventListener('click', event => {
                event.preventDefault();
                const submenu = item.nextElementSibling;
                if (submenu && submenu.classList.contains('submenu')) {
                    const isOpening = submenu.style.display !== 'block';
                    document.querySelectorAll('.submenu').forEach(sm => sm.style.display = 'none'); // Close all
                    document.querySelectorAll('.menu-toggle').forEach(mt => mt.classList.remove('open')); // Remove open class from all
                    if (isOpening) {
                        submenu.style.display = 'block';
                        item.classList.add('open');
                    }
                }
            });
        });
        // Ensure the current page's submenu is open on load
        document.addEventListener('DOMContentLoaded', () => {
            const activeLink = document.querySelector('.sidebar .active');
            if (activeLink) {
                let parent = activeLink.closest('.submenu');
                if (parent) {
                    parent.style.display = 'block';
                    const toggle = parent.previousElementSibling;
                    if (toggle && toggle.classList.contains('menu-toggle')) {
                        toggle.classList.add('open');
                    }
                }
            }
        });
    </script>
</body>
</html>
